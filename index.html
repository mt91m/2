<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¬Ø§Ø²ÛŒ</title>
  <style>
    body { font-family: Tahoma; background: #f5f5f5; direction: rtl; margin: 0; }
    header { background: #2c3e50; color: white; padding: 15px; text-align: center; }
    .hidden { display: none; }
    .box { background: white; padding: 20px; border-radius: 8px; margin: 40px auto; width: 420px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); text-align:center; }
    input, select { padding: 10px; margin: 10px; width: 90%; }
    button { padding: 8px 15px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
    button.green { background: #27ae60; color: white; }
    button.orange { background: #e67e22; color: white; }
    .container { margin: 20px; }
    .course { background: #ecf0f1; padding: 10px; margin: 10px 0; border-radius: 5px; }
    .item { border: 1px solid #ddd; padding: 5px; margin: 5px 0; border-radius: 5px; }
    .hiddenItem { background: #f8d7da; color: #721c24; }
    .row { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    .row input { flex: 1; min-width: 160px; }
  </style>
 <link type="text/css" rel="stylesheet" href="css/style.css"/>
</head>
<body>
  <header>
    <h1>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¢Ù…ÙˆØ²Ø´ Ù…Ø¬Ø§Ø²ÛŒ</h1>
  </header>

  <!-- ØµÙØ­Ù‡ Ù„Ø§Ú¯ÛŒÙ† -->
  <div id="loginPage" class="box">
    <h2>ÙˆØ±ÙˆØ¯</h2>
    <input id="username" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ">
    <input id="password" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
    <select id="role">
      <option value="student">ğŸ‘©â€ğŸ“ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²</option>
      <option value="teacher">ğŸ‘¨â€ğŸ« Ù…Ø¹Ù„Ù…</option>
    </select><br>
    <button id="loginBtn" class="green">ÙˆØ±ÙˆØ¯</button>
    <div style="margin-top:10px; font-size:12px; color:#555;">
      Ù…Ø¹Ù„Ù…: Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ <b>teacher</b> ØŒ Ø±Ù…Ø² <b>1234</b> â€” Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²: Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ <b>student</b> ØŒ Ø±Ù…Ø² <b>abcd</b>
    </div>
  </div>

  <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¹Ù„Ù… -->
  <div id="teacherPage" class="container hidden">
    <h2>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¹Ù„Ù…</h2>
    <div class="row">
      <input id="courseName" placeholder="Ù†Ø§Ù… Ø¯Ø±Ø³">
      <button id="addCourseBtn" class="orange">â• Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø±Ø³</button>
      <button id="logoutTeacherBtn">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
    <div id="courseList"></div>
  </div>

  <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ² -->
  <div id="studentPage" class="container hidden">
    <h2>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²</h2>
    <div class="row">
      <button id="refreshStudentBtn">ğŸ”„ ØªØ§Ø²Ù‡â€ŒØ³Ø§Ø²ÛŒ</button>
      <button id="logoutStudentBtn">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
    <div id="studentCourses"></div>
  </div>

  <script>
    // Ø°Ø®ÛŒØ±Ù‡/Ø®ÙˆØ§Ù†Ø¯Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² LocalStorage
    const STORAGE_KEY = "lms_courses";
    const loadCourses = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
    const saveCourses = (data) => localStorage.setItem(STORAGE_KEY, JSON.stringify(data));

    let courses = loadCourses();
    let currentUser = null;

    // ÙˆØ±ÙˆØ¯
    document.getElementById("loginBtn").addEventListener("click", () => {
      const user = document.getElementById("username").value.trim();
      const pass = document.getElementById("password").value.trim();
      const role = document.getElementById("role").value;

      if(role === "teacher" && user === "teacher" && pass === "1234") {
        currentUser = { role: "teacher", name: user };
        showPage("teacher");
        renderCourses();
      } else if(role === "student" && user === "student" && pass === "abcd") {
        currentUser = { role: "student", name: user };
        showPage("student");
        renderStudentView();
      } else {
        alert("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!");
      }
    });

    // Ø®Ø±ÙˆØ¬
    document.getElementById("logoutTeacherBtn").addEventListener("click", logout);
    document.getElementById("logoutStudentBtn").addEventListener("click", logout);
    function logout() {
      currentUser = null;
      showPage("login");
    }

    // Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ø§Øª
    function showPage(which) {
      document.getElementById("loginPage").classList.add("hidden");
      document.getElementById("teacherPage").classList.add("hidden");
      document.getElementById("studentPage").classList.add("hidden");
      if(which === "teacher") document.getElementById("teacherPage").classList.remove("hidden");
      else if(which === "student") document.getElementById("studentPage").classList.remove("hidden");
      else document.getElementById("loginPage").classList.remove("hidden");
    }

    // Ù…Ø¹Ù„Ù…: Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø±Ø³
    document.getElementById("addCourseBtn").addEventListener("click", () => {
      const name = document.getElementById("courseName").value.trim();
      if(!name) return;
      courses.push({ name, notes: [], exams: [] });
      saveCourses(courses);
      document.getElementById("courseName").value = "";
      renderCourses();
    });

    // Ù…Ø¹Ù„Ù…: Ø±Ù†Ø¯Ø± Ø¯Ø±Ø³â€ŒÙ‡Ø§
    function renderCourses() {
      const container = document.getElementById("courseList");
      container.innerHTML = "";
      courses.forEach((c, i) => {
        const div = document.createElement("div");
        div.className = "course";

        // Ø¨Ø®Ø´ Ø§ÙØ²ÙˆØ¯Ù† Ø¬Ø²ÙˆÙ‡ Ùˆ Ø¢Ø²Ù…ÙˆÙ†
        const controls = document.createElement("div");
        controls.className = "row";

        const addNoteBtn = document.createElement("button");
        addNoteBtn.textContent = "ğŸ“„ Ø§ÙØ²ÙˆØ¯Ù† Ø¬Ø²ÙˆÙ‡";
        addNoteBtn.addEventListener("click", () => {
          const text = prompt("Ø¹Ù†ÙˆØ§Ù† Ø¬Ø²ÙˆÙ‡:");
          const file = prompt("Ù„ÛŒÙ†Ú© ÙØ§ÛŒÙ„ Ø¬Ø²ÙˆÙ‡ (Ù…Ø«Ù„Ø§Ù‹ files/math.pdf):");
          if(text && file) {
            courses[i].notes.push({ text, file, visible: true });
            saveCourses(courses);
            renderCourses();
          }
        });

        const addExamBtn = document.createElement("button");
        addExamBtn.textContent = "ğŸ“ Ø§ÙØ²ÙˆØ¯Ù† Ø¢Ø²Ù…ÙˆÙ†";
        addExamBtn.addEventListener("click", () => {
          const title = prompt("Ø¹Ù†ÙˆØ§Ù† Ø¢Ø²Ù…ÙˆÙ†:");
          if(!title) return;
          const qCount = parseInt(prompt("ØªØ¹Ø¯Ø§Ø¯ Ø³ÙˆØ§Ù„Ø§Øª Ú†Ù†Ø¯Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒØŸ (Ù…Ø«Ù„Ø§Ù‹ 1 ÛŒØ§ 3)"), 10);
          if(isNaN(qCount) || qCount < 1) return;
          const questions = [];
          for(let k=0; k<qCount; k++){
            const q = prompt(`Ø³ÙˆØ§Ù„ ${k+1}:`);
            const optA = prompt("Ú¯Ø²ÛŒÙ†Ù‡ Û±:");
            const optB = prompt("Ú¯Ø²ÛŒÙ†Ù‡ Û²:");
            const correct = prompt("Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª (Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø¯Ù‚ÛŒÙ‚ Ø¨Ù†ÙˆÛŒØ³):");
            if(q && optA && optB && correct) {
              questions.push({ q, options: [optA, optB], answer: correct });
            }
          }
          courses[i].exams.push({ text: title, visible: true, questions });
          saveCourses(courses);
          renderCourses();
        });

        controls.appendChild(addNoteBtn);
        controls.appendChild(addExamBtn);

        // Ù„ÛŒØ³Øª Ø¬Ø²ÙˆÙ‡â€ŒÙ‡Ø§
        const notesHeader = document.createElement("h4");
        notesHeader.textContent = "Ø¬Ø²ÙˆÙ‡â€ŒÙ‡Ø§:";
        const notesList = document.createElement("div");
        c.notes.forEach((n, j) => {
          const item = document.createElement("div");
          item.className = "item " + (n.visible ? "" : "hiddenItem");
          item.innerHTML = `${n.text} â€” <a href="${n.file}" target="_blank">Ø¯Ø§Ù†Ù„ÙˆØ¯</a>`;
          const toggleBtn = document.createElement("button");
          toggleBtn.textContent = "ğŸ‘";
          toggleBtn.addEventListener("click", () => {
            courses[i].notes[j].visible = !courses[i].notes[j].visible;
            saveCourses(courses);
            renderCourses();
          });
          item.appendChild(toggleBtn);
          notesList.appendChild(item);
        });

        // Ù„ÛŒØ³Øª Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§
        const examsHeader = document.createElement("h4");
        examsHeader.textContent = "Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§:";
        const examsList = document.createElement("div");
        c.exams.forEach((e, j) => {
          const item = document.createElement("div");
          item.className = "item " + (e.visible ? "" : "hiddenItem");
          item.textContent = e.text;
          const toggleBtn = document.createElement("button");
          toggleBtn.textContent = "ğŸ‘";
          toggleBtn.addEventListener("click", () => {
            courses[i].exams[j].visible = !courses[i].exams[j].visible;
            saveCourses(courses);
            renderCourses();
          });
          item.appendChild(toggleBtn);
          examsList.appendChild(item);
        });

        const title = document.createElement("h3");
        title.textContent = c.name;
        div.appendChild(title);
        div.appendChild(controls);
        div.appendChild(notesHeader);
        div.appendChild(notesList);
        div.appendChild(examsHeader);
        div.appendChild(examsList);
        container.appendChild(div);
      });
    }

    // Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²: ØªØ§Ø²Ù‡â€ŒØ³Ø§Ø²ÛŒ
    document.getElementById("refreshStudentBtn").addEventListener("click", renderStudentView);

    // Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²: Ø±Ù†Ø¯Ø± Ø¯ÛŒØ¯ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²
    function renderStudentView() {
      courses = loadCourses(); // Ù‡Ù…ÛŒØ´Ù‡ Ø¢Ø®Ø±ÛŒÙ† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ú¯ÛŒØ±
      const container = document.getElementById("studentCourses");
      container.innerHTML = "";
      courses.forEach((c, i) => {
        const div = document.createElement("div");
        div.className = "course";
        const title = document.createElement("h3");
        title.textContent = c.name;

        // Ø¬Ø²ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡
        const notesHeader = document.createElement("h4");
        notesHeader.textContent = "Ø¬Ø²ÙˆÙ‡â€ŒÙ‡Ø§:";
        const notesList = document.createElement("div");
        c.notes.filter(n => n.visible).forEach(n => {
          const item = document.createElement("div");
          item.className = "item";
          item.innerHTML = `ğŸ“„ <a href="${n.file}" target="_blank">${n.text}</a>`;
          notesList.appendChild(item);
        });

        // Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡
        const examsHeader = document.createElement("h4");
        examsHeader.textContent = "Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§:";
        const examsList = document.createElement("div");
        c.exams.filter(e => e.visible).forEach((e, j) => {
          const item = document.createElement("div");
          item.className = "item";
          const startBtn = document.createElement("button");
          startBtn.textContent = "Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†";
          startBtn.addEventListener("click", () => takeExam(e.questions));
          item.textContent = "ğŸ“ " + e.text + " ";
          item.appendChild(startBtn);
          examsList.appendChild(item);
        });

        div.appendChild(title);
        div.appendChild(notesHeader);
        div.appendChild(notesList);
        div.appendChild(examsHeader);
        div.appendChild(examsList);
        container.appendChild(div);
      });
    }

    // Ø¨Ø±Ú¯Ø²Ø§Ø±ÛŒ Ø¢Ø²Ù…ÙˆÙ† Ø³Ø§Ø¯Ù‡
    function takeExam(questions) {
      let score = 0;
      questions.forEach(q => {
        const ans = prompt(q.q + "\nÚ¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§: " + q.options.join(" | "));
        if(ans && ans.trim() === q.answer) score++;
      });
      alert("Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§: " + score + "/" + questions.length);
    }
  </script>
<script type="text/javascript" src="js/script.js"></script>
<!-- Ø§ÛŒÙ† ÙØ§ÛŒÙ„ ØªÙˆØ³Ø· Ø§Ø¯ÛŒØªÙˆØ± Ø¢Ù†Ù„Ø§ÛŒÙ† ÙˆØ¨Ø³Ø§ÛŒØª Ø¢Ù…ÙˆØ²Ø´ÛŒ ÙØ±ÛŒ Ù„Ø±Ù† Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø§Ø³Øª -->
<!-- https://Free-Learn.Ir/ -->
</body>
</html>